import{_ as C,u as V,k as g,r as m,l as j,c as n,b as t,j as l,g as _,t as i,m as M,d as p,w as v,h as A,F as z,n as N,p as P,q as w,o as e,s as T}from"./index-T38BnJ7n.js";const H={class:"dashboard"},S={class:"hero-section"},L={class:"hero-content"},R={class:"hero-text"},$={class:"hero-title"},F={class:"text-gradient"},G={class:"hero-subtitle"},D={key:0,class:"hero-actions"},I={class:"stats-section"},E={class:"stats-grid"},U={class:"stat-card"},q={class:"stat-content"},Q={class:"stat-value"},W={key:0,class:"stat-change positive"},J={class:"stat-card"},K={class:"stat-content"},O={class:"stat-value"},X={key:0,class:"stat-change positive"},Y={class:"stat-card"},Z={class:"stat-content"},tt={class:"stat-value"},st={key:0,class:"stat-change neutral"},ot={class:"stat-card"},et={class:"stat-content"},at={class:"stat-value"},nt={key:0,class:"stat-change positive"},it={class:"actions-section"},rt={class:"actions-grid"},lt={key:0,class:"activity-section"},ct={class:"activity-list"},dt={fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ut={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},vt={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},pt={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},ht={class:"activity-content"},kt={class:"activity-text"},gt={class:"activity-time"},mt={__name:"Dashboard",setup(_t){const f=V(),b=g(()=>{var s;return(((s=f.user)==null?void 0:s.full_name)||"Guest").split(" ")[0]}),c=g(()=>{var d;return((d=f.user)==null?void 0:d.role)||"guest"}),B=g(()=>c.value==="admin"?"Manage your platform from one place":c.value==="host"?"Track your properties and bookings":"Find your perfect stay"),o=m({properties:0,bookings:0,views:0,revenue:0,newThisMonth:0,newBookings:0,revenueGrowth:0}),u=m(!0),h=m([]),x=async()=>{var d,s;try{u.value=!0;const r=await P.getAll();o.value.properties=((d=r.data)==null?void 0:d.length)||0,o.value.newThisMonth=Math.floor(o.value.properties*.15);let a;c.value==="admin"?a=await w.getAllBookings():c.value==="host"?a=await w.getHostBookings():a=await w.getUserBookings(),o.value.bookings=((s=a.data)==null?void 0:s.length)||0,o.value.newBookings=Math.floor(o.value.bookings*.3),o.value.views=o.value.properties*127+Math.floor(Math.random()*100),o.value.revenue=o.value.bookings*350+Math.floor(Math.random()*1e3),o.value.revenueGrowth=Math.floor(Math.random()*25)+5,a.data&&a.data.length>0&&(h.value=a.data.slice(0,5).map((k,y)=>({type:"booking",text:`New booking for ${k.property_title||"Property"}`,time:`${y+1} ${y===0?"hour":"hours"} ago`})))}catch(r){console.error("Failed to fetch stats:",r)}finally{u.value=!1}};return j(()=>{x()}),(d,s)=>{const r=A("router-link");return e(),n("div",H,[t("section",S,[t("div",L,[t("div",R,[t("h1",$,[s[0]||(s[0]=_(" Welcome back, ",-1)),t("span",F,i(b.value),1)]),t("p",G,i(B.value),1)]),c.value!=="admin"?(e(),n("div",D,[c.value!=="guest"?(e(),M(r,{key:0,to:"/properties/new",class:"btn-hero btn-primary"},{default:v(()=>[...s[1]||(s[1]=[t("svg",{class:"icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),_(" Add New Property ",-1)])]),_:1})):l("",!0),p(r,{to:"/properties",class:"btn-hero btn-secondary"},{default:v(()=>[...s[2]||(s[2]=[t("svg",{class:"icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),_(" Browse Properties ",-1)])]),_:1})])):l("",!0)]),s[3]||(s[3]=t("div",{class:"hero-decoration"},[t("div",{class:"decoration-circle circle-1"}),t("div",{class:"decoration-circle circle-2"}),t("div",{class:"decoration-circle circle-3"})],-1))]),t("section",I,[t("div",E,[t("div",U,[s[5]||(s[5]=t("div",{class:"stat-icon stat-icon-blue"},[t("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])],-1)),t("div",q,[s[4]||(s[4]=t("p",{class:"stat-label"},"Total Properties",-1)),t("p",Q,i(o.value.properties),1),u.value?l("",!0):(e(),n("p",W,"+"+i(o.value.newThisMonth)+" this month",1))])]),t("div",J,[s[7]||(s[7]=t("div",{class:"stat-icon stat-icon-green"},[t("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t("div",K,[s[6]||(s[6]=t("p",{class:"stat-label"},"Active Bookings",-1)),t("p",O,i(o.value.bookings),1),u.value?l("",!0):(e(),n("p",X,"+"+i(o.value.newBookings)+" new",1))])]),t("div",Y,[s[9]||(s[9]=t("div",{class:"stat-icon stat-icon-purple"},[t("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})])],-1)),t("div",Z,[s[8]||(s[8]=t("p",{class:"stat-label"},"Total Views",-1)),t("p",tt,i(o.value.views),1),u.value?l("",!0):(e(),n("p",st,"This week"))])]),t("div",ot,[s[11]||(s[11]=t("div",{class:"stat-icon stat-icon-gold"},[t("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",et,[s[10]||(s[10]=t("p",{class:"stat-label"},"Revenue",-1)),t("p",at,"A$"+i(o.value.revenue.toLocaleString()),1),u.value?l("",!0):(e(),n("p",nt,"+"+i(o.value.revenueGrowth)+"% growth",1))])])])]),t("section",it,[s[16]||(s[16]=t("h2",{class:"section-title"},"Quick Actions",-1)),t("div",rt,[p(r,{to:"/properties",class:"action-card"},{default:v(()=>[...s[12]||(s[12]=[t("div",{class:"action-icon"},[t("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])],-1),t("h3",{class:"action-title"},"Browse Properties",-1),t("p",{class:"action-desc"},"Explore available properties and book your next stay",-1),t("div",{class:"action-arrow"},"→",-1)])]),_:1}),p(r,{to:"/bookings",class:"action-card"},{default:v(()=>[...s[13]||(s[13]=[t("div",{class:"action-icon"},[t("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1),t("h3",{class:"action-title"},"My Bookings",-1),t("p",{class:"action-desc"},"View and manage your current and past bookings",-1),t("div",{class:"action-arrow"},"→",-1)])]),_:1}),c.value!=="guest"?(e(),M(r,{key:0,to:"/properties/new",class:"action-card"},{default:v(()=>[...s[14]||(s[14]=[t("div",{class:"action-icon"},[t("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1),t("h3",{class:"action-title"},"Add Property",-1),t("p",{class:"action-desc"},"List a new property and start earning",-1),t("div",{class:"action-arrow"},"→",-1)])]),_:1})):l("",!0),p(r,{to:"/profile",class:"action-card"},{default:v(()=>[...s[15]||(s[15]=[t("div",{class:"action-icon"},[t("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),t("h3",{class:"action-title"},"My Profile",-1),t("p",{class:"action-desc"},"Update your account settings and preferences",-1),t("div",{class:"action-arrow"},"→",-1)])]),_:1})])]),h.value.length>0?(e(),n("section",lt,[s[17]||(s[17]=t("h2",{class:"section-title"},"Recent Activity",-1)),t("div",ct,[(e(!0),n(z,null,N(h.value,(a,k)=>(e(),n("div",{key:k,class:"activity-item"},[t("div",{class:T(["activity-icon",`activity-${a.type}`])},[(e(),n("svg",dt,[a.type==="booking"?(e(),n("path",ut)):a.type==="property"?(e(),n("path",vt)):(e(),n("path",pt))]))],2),t("div",ht,[t("p",kt,i(a.text),1),t("p",gt,i(a.time),1)])]))),128))])])):l("",!0)])}}},ft=C(mt,[["__scopeId","data-v-90856d11"]]);export{ft as default};
